<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>ìš°ë¦¬ ì•„ì´ í•™êµ ìœ í˜• í…ŒìŠ¤íŠ¸ - ì—˜ë¦¬í•˜ì´ í‚¤ì¦ˆ</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;600;700;800&display=swap" rel="stylesheet">
  <style>
    /* ê¸°ë³¸ ìŠ¤íƒ€ì¼ */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Noto Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      line-height: 1.6;
      color: #333;
      background: #f8f9fa;
    }

    /* í—¤ë” ìŠ¤íƒ€ì¼ */
    .app-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 16px 20px;
      background: white;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .brand-logo {
      height: 32px;
      width: auto;
      background: #FFD135;
      padding: 8px 16px;
      border-radius: 8px;
      font-weight: 800;
      font-size: 14px;
    }

    .header-title {
      font-size: 18px;
      font-weight: 700;
      color: #333;
      margin: 0;
      white-space: nowrap;
      flex-shrink: 0;
    }

    /* ê´€ë¦¬ì ë§í¬ */
    .admin-link {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: #6c757d;
      color: white;
      padding: 8px 12px;
      border-radius: 20px;
      font-size: 12px;
      text-decoration: none;
      opacity: 0.7;
      transition: opacity 0.3s;
      z-index: 1000;
    }

    .admin-link:hover {
      opacity: 1;
    }

    /* ë°˜ì‘í˜• í—¤ë” */
    @media (max-width: 480px) {
      .header-title {
        font-size: 14px;
      }
      
      .app-header {
        padding: 12px 16px;
      }
      
      .brand-logo {
        height: 28px;
      }

      .admin-link {
        display: none;
      }
    }

    /* ì»¨í…Œì´ë„ˆ */
    .container {
      max-width: 480px;
      margin: 0 auto;
      padding: 20px;
    }

    /* ì¹´ë“œ */
    .card {
      background: white;
      border-radius: 16px;
      padding: 24px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.08);
      margin-bottom: 20px;
    }

    .card-soft {
      background: #f8f9fa;
      border: 1px solid #e9ecef;
    }

    .hidden {
      display: none;
    }

    /* íƒ€ì´í‹€ */
    .title {
      font-size: 24px;
      font-weight: 800;
      text-align: center;
      margin-bottom: 8px;
      color: #333;
    }

    .subtitle {
      text-align: center;
      color: #666;
      margin-bottom: 24px;
      font-size: 14px;
    }

    /* ë²„íŠ¼ */
    .btn {
      border: none;
      border-radius: 12px;
      padding: 16px 24px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
      font-family: inherit;
      text-decoration: none;
      display: inline-block;
      text-align: center;
    }

    .btn.primary {
      background: #FFD135;
      color: #333;
    }

    .btn.primary:hover {
      background: #ffcc00;
      transform: translateY(-1px);
    }

    .btn.outline {
      background: white;
      color: #FF6B35;
      border: 2px solid #FF6B35;
    }

    .btn.outline:hover {
      background: #FF6B35;
      color: white;
    }

    .btn.ghost {
      background: transparent;
      color: #666;
    }

    .btn.ghost:hover {
      background: #f8f9fa;
    }

    .btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: none;
    }

    /* ì§„í–‰ë¥  */
    .progress {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 24px;
    }

    .bar {
      flex: 1;
      height: 8px;
      background: #e9ecef;
      border-radius: 4px;
      overflow: hidden;
      margin-right: 12px;
    }

    .bar span {
      display: block;
      height: 100%;
      background: #FFD135;
      transition: width 0.3s ease;
    }

    .count {
      font-weight: 600;
      color: #666;
      font-size: 14px;
    }

    /* ì§ˆë¬¸ */
    .question {
      font-size: 20px;
      font-weight: 700;
      margin-bottom: 24px;
      line-height: 1.4;
    }

    /* ì˜µì…˜ */
    .options {
      display: flex;
      flex-direction: column;
      gap: 12px;
      margin-bottom: 24px;
    }

    .btn.option {
      background: white;
      border: 2px solid #e9ecef;
      color: #333;
      text-align: left;
      padding: 20px;
      font-size: 15px;
      font-weight: 500;
      line-height: 1.4;
    }

    .btn.option:hover {
      border-color: #FFD135;
      background: #fffbf0;
    }

    .btn.option.selected {
      border-color: #FFD135;
      background: #FFD135;
      color: #333;
    }

    /* ë„¤ë¹„ê²Œì´ì…˜ */
    .nav {
      display: flex;
      justify-content: space-between;
      gap: 12px;
    }

    .nav .btn {
      flex: 1;
    }

    /* ê²°ê³¼ */
    .result-head {
      text-align: center;
      margin-bottom: 24px;
    }

    .pill {
      display: inline-block;
      background: #FFD135;
      color: #333;
      padding: 8px 20px;
      border-radius: 50px;
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 16px;
      box-shadow: 0 4px 12px rgba(255, 209, 53, 0.3);
      position: relative;
    }

    .pill::before {
      content: '';
      position: absolute;
      top: -8px;
      left: -8px;
      right: -8px;
      bottom: -8px;
      background: linear-gradient(45deg, rgba(255, 209, 53, 0.2), rgba(255, 107, 53, 0.1));
      border-radius: 50px;
      z-index: -1;
    }

    .result-title {
      font-size: 28px;
      font-weight: 800;
      margin-bottom: 8px;
      color: #333;
    }

    /* ê²°ê³¼ ì´ë¯¸ì§€ */
    .result-image {
      text-align: center;
      margin-bottom: 24px;
    }

    .result-image img {
      max-width: 100%;
      height: auto;
      border-radius: 8px;
    }

    /* ê³µìœ  */
    .share {
      text-align: center;
    }

    .note {
      font-size: 13px;
      color: #666;
      line-height: 1.5;
      margin-bottom: 16px;
    }

    .note a {
      color: #FF6B35;
      text-decoration: none;
    }

    .note a:hover {
      text-decoration: underline;
    }

    .actions {
      display: flex;
      gap: 12px;
      justify-content: center;
    }

    .actions .btn {
      flex: 1;
      max-width: 200px;
    }

    /* ê´€ë¦¬ì í˜ì´ì§€ ìŠ¤íƒ€ì¼ */
    .admin-page {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }

    .admin-header {
      background: #dc3545;
      color: white;
      padding: 20px;
      border-radius: 12px;
      margin-bottom: 30px;
      text-align: center;
    }

    .admin-stats {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }

    .stat-card {
      background: white;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.08);
      text-align: center;
    }

    .stat-number {
      font-size: 32px;
      font-weight: 800;
      color: #FFD135;
      margin-bottom: 8px;
    }

    .stat-label {
      color: #666;
      font-size: 14px;
    }

    .results-table {
      background: white;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 4px 20px rgba(0,0,0,0.08);
    }

    .table-header {
      background: #f8f9fa;
      padding: 20px;
      border-bottom: 1px solid #e9ecef;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .results-list {
      max-height: 600px;
      overflow-y: auto;
    }

    .result-item {
      padding: 16px 20px;
      border-bottom: 1px solid #f0f0f0;
      display: grid;
      grid-template-columns: 120px 1fr 100px 80px;
      gap: 16px;
      align-items: center;
    }

    .result-item:hover {
      background: #f8f9fa;
    }

    .result-timestamp {
      font-size: 12px;
      color: #666;
    }

    .result-answers {
      font-family: monospace;
      font-size: 14px;
      color: #333;
    }

    .result-type {
      font-weight: 600;
      color: #FF6B35;
    }

    .clear-btn {
      background: #dc3545;
      color: white;
      border: none;
      padding: 8px 16px;
      border-radius: 6px;
      font-size: 14px;
      cursor: pointer;
    }

    .clear-btn:hover {
      background: #c82333;
    }

    /* í‘¸í„° */
    .app-footer {
      text-align: center;
      padding: 20px;
      color: #999;
      font-size: 12px;
    }

    /* ë°˜ì‘í˜• */
    @media (max-width: 480px) {
      .container {
        padding: 16px;
      }
      
      .card {
        padding: 20px;
      }
      
      .title {
        font-size: 22px;
      }
      
      .question {
        font-size: 18px;
      }
      
      .result-title {
        font-size: 24px;
      }
      
      .actions {
        flex-direction: column;
      }
      
      .actions .btn {
        max-width: none;
      }

      .result-item {
        grid-template-columns: 1fr;
        gap: 8px;
        text-align: left;
      }

      .admin-stats {
        grid-template-columns: 1fr 1fr;
      }
    }
  </style>
</head>
<body>
  <header class="app-header">
    <div class="brand-logo">ELIHIGH KIDS</div>
    <h1 class="header-title">ìš°ë¦¬ ì•„ì´ì—ê²Œ ì¶”ì²œí•˜ëŠ” í•™êµëŠ”?</h1>
  </header>

  <main class="container">
    <!-- ì¸íŠ¸ë¡œ -->
    <section id="intro" class="card">
      <h1 class="title">ìš°ë¦¬ ì•„ì´ í•™êµ ìœ í˜• í…ŒìŠ¤íŠ¸</h1>
      <p class="subtitle">10ë¬¸í•­ Â· ì•½ 2ë¶„ Â· ëª¨ë°”ì¼ ìµœì í™”</p>
      <button id="startBtn" class="btn primary">ì‹œì‘í•˜ê¸°</button>
    </section>

    <!-- í€´ì¦ˆ -->
    <section id="quiz" class="card hidden">
      <div class="progress">
        <div class="bar"><span id="barFill" style="width:0%"></span></div>
        <div class="count"><span id="qIndex">1</span> / 10</div>
      </div>
      <h2 id="qText" class="question"></h2>
      <div class="options">
        <button id="optA" class="btn option">A</button>
        <button id="optB" class="btn option">B</button>
      </div>
      <div class="nav">
        <button id="prevBtn" class="btn ghost" disabled>ì´ì „</button>
        <button id="nextBtn" class="btn primary" disabled>ë‹¤ìŒ</button>
      </div>
    </section>

    <!-- ê²°ê³¼ -->
    <section id="result" class="card hidden">
      <div class="result-head">
        <p class="pill">ì¶”ì²œ ê²°ê³¼</p>
        <h2 id="topType" class="result-title"></h2>
      </div>

      <div class="result-image">
        <img id="resultImg" alt="ê²°ê³¼ ì´ë¯¸ì§€" />
      </div>

      <div class="share card-soft">
        <p class="note">
          ë” ìì„¸í•œ ë¹„êµÂ·ì²´í¬ë¦¬ìŠ¤íŠ¸ëŠ”
          <a href="http://files.mbest.co.kr/www/elihigh/kids/elihigh_kids_250724.pdf" target="_blank" rel="noopener">ì›”ê°„ ìŠ¬ê¸°ë¡œìš´ ì´ˆë“±ì¤€ë¹„ 9ì›”í˜¸</a>ì—ì„œ í™•ì¸í•˜ì„¸ìš”.<br>
          ë³¸ ê²°ê³¼ëŠ” ì°¸ê³ ìš©ì…ë‹ˆë‹¤. ì•„ì´ íŠ¹ì„±Â·ê°€ì¡± ìƒí™©Â·ì§€ì—­ ì—¬ê±´ì„ í•¨ê»˜ ê³ ë ¤í•´ ìµœì¢… ê²°ì •í•´ì£¼ì„¸ìš”.
        </p>
        <div class="actions">
          <button id="shareTest" class="btn primary">í…ŒìŠ¤íŠ¸ ê³µìœ í•˜ê¸°</button>
          <button id="retry" class="btn outline">ë‹¤ì‹œí•˜ê¸°</button>
        </div>
      </div>
    </section>

    <!-- ê´€ë¦¬ì í˜ì´ì§€ -->
    <section id="adminPage" class="admin-page hidden">
      <div class="admin-header">
        <h1>ğŸ“Š í…ŒìŠ¤íŠ¸ ê²°ê³¼ ê´€ë¦¬ì í˜ì´ì§€</h1>
        <p>ê³ ê°ë“¤ì˜ í…ŒìŠ¤íŠ¸ ê²°ê³¼ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤</p>
      </div>

      <div class="admin-stats">
        <div class="stat-card">
          <div class="stat-number" id="totalTests">0</div>
          <div class="stat-label">ì´ í…ŒìŠ¤íŠ¸ ì™„ë£Œ</div>
        </div>
        <div class="stat-card">
          <div class="stat-number" id="publicSchool">0</div>
          <div class="stat-label">ê³µë¦½ì´ˆë“±í•™êµ</div>
        </div>
        <div class="stat-card">
          <div class="stat-number" id="privateSchool">0</div>
          <div class="stat-label">ì‚¬ë¦½ì´ˆë“±í•™êµ</div>
        </div>
        <div class="stat-card">
          <div class="stat-number" id="nationalSchool">0</div>
          <div class="stat-label">êµ­ë¦½ì´ˆë“±í•™êµ</div>
        </div>
        <div class="stat-card">
          <div class="stat-number" id="intlSchool">0</div>
          <div class="stat-label">êµ­ì œí•™êµâ‹…ì™¸êµ­ì¸í•™êµ</div>
        </div>
        <div class="stat-card">
          <div class="stat-number" id="altSchool">0</div>
          <div class="stat-label">ëŒ€ì•ˆí•™êµ</div>
        </div>
      </div>

      <div class="results-table">
        <div class="table-header">
          <h3>í…ŒìŠ¤íŠ¸ ê²°ê³¼ ëª©ë¡</h3>
          <button id="clearResults" class="clear-btn">ì „ì²´ ì‚­ì œ</button>
        </div>
        <div class="results-list" id="resultsList">
          <div style="padding: 40px; text-align: center; color: #666;">
            ì•„ì§ ìˆ˜ì§‘ëœ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.
          </div>
        </div>
      </div>

      <div style="text-align: center; margin-top: 30px;">
        <button id="backToTest" class="btn outline">í…ŒìŠ¤íŠ¸ë¡œ ëŒì•„ê°€ê¸°</button>
      </div>
    </section>
  </main>

  <!-- ê´€ë¦¬ì í˜ì´ì§€ ë§í¬ (ë°ìŠ¤í¬í†±ì—ì„œë§Œ í‘œì‹œ) -->
  <a href="#admin" class="admin-link" id="adminLink">ê´€ë¦¬ì</a>

  <footer class="app-footer">
    <small>All rights reserved. Copyright â“’ 2025 by MegastudyEdu Co., Ltd.</small>
  </footer>

  <script>
    // ì§ˆë¬¸ ë°ì´í„°
    const QUESTIONS = [
      { q: "ìš°ë¦¬ ì•„ì´ëŠ” ì–´ë–¤ ì¹œêµ¬ ê´€ê³„ë¥¼ ë” í¸ì•ˆí•´í•˜ë‚˜ìš”?",
        a: "ê°™ì€ ì•„íŒŒíŠ¸(ë™ë„¤) ì¹œêµ¬ë“¤ê³¼ ìì£¼ ë§Œë‚˜ ë†€ê³ , í•¨ê»˜ ë‹¤ë‹ˆëŠ” ê±¸ ì¢‹ì•„í•´ìš”.",
        b: "ì²˜ìŒ ë§Œë‚œ ì¹œêµ¬ì™€ë„ ê¸ˆë°© ì–´ìš¸ë¦¬ê³ , ìƒˆë¡œìš´ ëª¨ì„ì—ë„ ì˜ ë¼ì–´ìš”." },
      { q: "ìš°ë¦¬ ì•„ì´ëŠ” ì–´ë–¤ ë°©ì‹ì˜ ì¹­ì°¬ì„ ë” ì¢‹ì•„í•˜ë‚˜ìš”?",
        a: "ì¹­ì°¬ìŠ¤í‹°ì»¤/ë„ì¥ì²˜ëŸ¼ 'ê¸°ì¤€ì„ ì±„ìš°ë©´ ì£¼ëŠ” ë³´ìƒ'ì„ ì¢‹ì•„í•´ìš”.",
        b: "'ì—¬ê¸° ì´ë ‡ê²Œ í•´ì„œ ì¢‹ì•˜ì–´'ì²˜ëŸ¼ ì•„ì´ê°€ í•œ ê±¸ ìì„¸íˆ ë´ì£¼ëŠ” ì¹­ì°¬ì— ë” ë™ê¸°ê°€ ìƒê²¨ìš”." },
      { q: "ìš°ë¦¬ ì•„ì´ëŠ” ì‹œëŒë²…ì í•œ ìë¦¬ì—ì„œ ì–´ë–»ê²Œ ë°˜ì‘í•˜ë‚˜ìš”?",
        a: "í–‰ì‚¬ë‚˜ ì†Œë¦¬ê°€ í° ê³³ì—ì„œëŠ” ì‰½ê²Œ ì§€ì¹˜ê³ , ì¡°ìš©í•œ ê³³ì„ ì°¾ìœ¼ë ¤ í•´ìš”.",
        b: "ë– ë“¤ì©í•´ë„ ì ê¹ ì‰¬ë©´ ë‹¤ì‹œ ì˜ ë†€ê³  ê¸ˆë°© ì ì‘í•´ìš”." },
      { q: "ìš°ë¦¬ ê°€ì¡±ì€ ì•„ì´ êµìœ¡ì—ì„œ ë¬´ì—‡ì„ ë” ìš°ì„ í•˜ë‚˜ìš”?",
        a: "ê¸°ë³¸ê¸°ë¶€í„° íƒ„íƒ„í•˜ê²Œ ìŒ“ê³ , ì²´ê³„ì ìœ¼ë¡œ í•™ìŠµí•˜ëŠ” ê±¸ ë” ì¤‘ì‹œí•´ìš”.",
        b: "í˜‘ë ¥Â·íƒêµ¬Â·ì²´í—˜ ê°™ì€ ê³¼ì •ê³¼ ê²½í—˜ì—ì„œ ë°°ìš°ëŠ” ì„±ì¥ì„ ë” ì¤‘ì‹œí•´ìš”." },
      { q: "ìš°ë¦¬ ì•„ì´ëŠ” íŠ¹ë³„íˆ ì„ í˜¸í•˜ëŠ” íŠ¹ì„±í™” í™œë™ì´ ìˆë‚˜ìš”?",
        a: "í”¼ì•„ë…¸/ë¯¸ìˆ /ì²´ìœ¡/ì–¸ì–´ ê°™ì€ 'íŠ¹ë³„ í™œë™'ì— ê¹Šì€ ê´€ì‹¬ê³¼ ì„ í˜¸ê°€ ìˆì–´ìš”.",
        b: "ë³„íˆ ì„ í˜¸í•˜ëŠ” 'íŠ¹ë³„ í™œë™'ì´ ìˆì§€ëŠ” ì•Šì•„ìš”." },
      { q: "ìš°ë¦¬ ì•„ì´ëŠ” ì–¸ì–´Â·ë‹¤ë¬¸í™” ë…¸ì¶œì— ì–´ë–»ê²Œ ë°˜ì‘í•˜ë‚˜ìš”?",
        a: "í•œêµ­ì–´ ì„¤ëª…ì´ í¸í•˜ê³ , ì˜ì–´ëŠ” ë…¸ë˜ ë”°ë¼ ë¶€ë¥´ê¸° ì •ë„ë©´ ì¶©ë¶„í•´ìš”.",
        b: "ê°„ë‹¨í•œ ì˜ì–´ ì§€ì‹œÂ·ë†€ì´ë„ ì¢‹ì•„í•˜ê³ , ë‹¤ë¥¸ ë¬¸í™” ì´ì•¼ê¸°ì—ë„ í˜¸ê¸°ì‹¬ì´ ì»¤ìš”." },
      { q: "ìš°ë¦¬ ê°€ì¡±ì€ ê¸°ê´€(ìœ ì¹˜ì›)ê³¼ì˜ ì†Œí†µì—ì„œ ì–´ë–¤ ë°©ì‹ì„ ë” ì„ í˜¸í•˜ë‚˜ìš”?",
        a: "ì•Œë¦¼ì¥/ê°€ì •í†µì‹ ë¬¸ì²˜ëŸ¼ ì¼ì •ì´ ì •ë¦¬ë˜ì–´ ì˜¤ëŠ” ë°©ì‹ì´ë©´ ì¶©ë¶„í•´ìš”.",
        b: "ì‚¬ì§„Â·ì˜ìƒ ê³µìœ , ì„¤ëª…íšŒÂ·í–‰ì‚¬ ì•ˆë‚´ì²˜ëŸ¼ ìì£¼ ì†Œí†µí•´ ì£¼ë©´ ë” ì•ˆì‹¬ë¼ìš”." },
      { q: "ìš°ë¦¬ ì•„ì´ëŠ” ì–´ë–¤ í™œë™ì—ì„œ ë” ëª°ì…í•˜ë‚˜ìš”?",
        a: "ë”°ë¼ ì“°ê¸°, ìˆ«ì ì„¸ê¸°, ì±… ì½ê¸°ì²˜ëŸ¼ 'ì°¨ê·¼ì°¨ê·¼ ë”°ë¼í•˜ëŠ” í™œë™'ì—ì„œ ë” ì§‘ì¤‘í•´ìš”.",
        b: "ë§Œë“¤ê¸°, ì‹¤í—˜, ë°œí‘œÂ·ê³µì—°, ì²´í—˜ì²˜ëŸ¼ 'ììœ ë¡­ê²Œ í‘œí˜„í•˜ëŠ” í™œë™'ì— ë” ì„±ì·¨ê°ì„ ëŠê»´ìš”." },
      { q: "ìš°ë¦¬ ê°€ì¡±ì€ í•™êµ ì„ íƒÂ·ì§€ì› ë°©ì‹ì— ëŒ€í•´ ì–´ë–»ê²Œ ìƒê°í•˜ë‚˜ìš”?",
        a: "ë°°ì •ëœ í•™êµë¡œ ê°€ëŠ” ì¼ë°˜ ì ˆì°¨ê°€ ë§ˆìŒì´ í¸í•˜ê³ , ì¶”ê°€ ì§€ì›ì€ ë¶€ë‹´ë¼ìš”.",
        b: "ì•„ì´ì™€ ì˜ ë§ëŠ” í•™êµë¥¼ ì°¾ê¸° ìœ„í•´ ì§€ì›/ë©´ì ‘ ì ˆì°¨ë¥¼ ì‹œê°„ì„ ë“¤ì—¬ ì•Œì•„ë³´ê³ , ê³ ì•¡ì˜ í•™ë¹„ë„ ë¶€ë‹´í•  ì˜í–¥ì´ ìˆì–´ìš”." },
      { q: "ìš°ë¦¬ ê°€ì¡±ì€ í†µí•™Â·ìƒí™œ ë°©ì‹ì—ì„œ ë¬´ì—‡ì„ ë” ì¤‘ìš”í•˜ê²Œ ë³´ë‚˜ìš”?",
        a: "í†µí•™ ì‹œê°„ì€ ìµœëŒ€í•œ ì§§ê²Œ, ì•ˆì •ì ì¸ ìƒí™œ í™˜ê²½ì„ ê°€ì¡Œìœ¼ë©´ í•´ìš”.",
        b: "ì¢‹ì€ í•™êµë¼ë©´ ì¥ê±°ë¦¬ í†µí•™ì´ë‚˜ ê¸°ìˆ™í•™êµë„ ì„ íƒí•  ìˆ˜ ìˆì–´ìš”." }
    ];

    // í•™êµ ìœ í˜•ë³„ ê°€ì¤‘ì¹˜
    const WEIGHTS = {
      "ê³µë¦½": {
        A: [2, 1, 1, 2, 0, 1, 2, 2, 2, 3],
        B: [0, 0, 0, 0, 2, 0, 0, 0, 0, 0]
      },
      "êµ­ë¦½": {
        A: [0, 1, 0, 1, 1, 1, 0, 1, 1, 0],
        B: [1, 1, 1, 1, 0, 0, 2, 1, 1, 1]
      },
      "ì‚¬ë¦½": {
        A: [1, 0, 0, 1, 2, 0, 0, 0, 0, 0],
        B: [0, 2, 1, 1, 0, 1, 2, 1, 1, 1]
      },
      "ëŒ€ì•ˆ": {
        A: [1, 0, 2, 0, 0, 0, 0, 0, 0, 0],
        B: [0, 2, 0, 2, 0, 0, 0, 2, 1, 1]
      },
      "ì™¸êµ­ì¸": {
        A: [0, 0, 0, 0, 2, 0, 0, 0, 0, 0],
        B: [1, 0, 1, 0, 0, 2, 0, 1, 2, 3]
      }
    };

    // íƒ€ì´ë¸Œë ˆì´ì»¤ ìš°ì„ ìˆœìœ„
    const TIE_PRIOR = {
      "10A": ["ê³µë¦½", "êµ­ë¦½", "ì‚¬ë¦½", "ëŒ€ì•ˆ", "ì™¸êµ­ì¸"],
      "10B": ["ì‚¬ë¦½", "ì™¸êµ­ì¸", "ëŒ€ì•ˆ", "êµ­ë¦½", "ê³µë¦½"],
      "1A": ["ê³µë¦½", "ëŒ€ì•ˆ", "êµ­ë¦½", "ì‚¬ë¦½", "ì™¸êµ­ì¸"],
      "1B": ["êµ­ë¦½", "ì‚¬ë¦½", "ì™¸êµ­ì¸", "ê³µë¦½", "ëŒ€ì•ˆ"],
      "6A": ["ê³µë¦½", "êµ­ë¦½", "ëŒ€ì•ˆ", "ì‚¬ë¦½", "ì™¸êµ­ì¸"],
      "6B": ["ì‚¬ë¦½", "ì™¸êµ­ì¸", "êµ­ë¦½", "ëŒ€ì•ˆ", "ê³µë¦½"],
      "4A": ["ê³µë¦½", "êµ­ë¦½", "ì‚¬ë¦½", "ì™¸êµ­ì¸", "ëŒ€ì•ˆ"],
      "4B": ["ëŒ€ì•ˆ", "êµ­ë¦½", "ì‚¬ë¦½", "ê³µë¦½", "ì™¸êµ­ì¸"],
      "3A": ["ëŒ€ì•ˆ", "ì‚¬ë¦½", "ê³µë¦½", "êµ­ë¦½", "ì™¸êµ­ì¸"],
      "3B": ["êµ­ë¦½", "ì‚¬ë¦½", "ì™¸êµ­ì¸", "ê³µë¦½", "ëŒ€ì•ˆ"]
    };

    // í•™êµ ìœ í˜•ë³„ ê²°ê³¼ í…ìŠ¤íŠ¸
    const SCHOOL_RESULTS = {
      "ê³µë¦½": "ê³µë¦½ì´ˆë“±í•™êµ",
      "ì‚¬ë¦½": "ì‚¬ë¦½ì´ˆë“±í•™êµ", 
      "êµ­ë¦½": "êµ­ë¦½ì´ˆë“±í•™êµ",
      "ì™¸êµ­ì¸": "êµ­ì œí•™êµâ‹…ì™¸êµ­ì¸í•™êµ",
      "ëŒ€ì•ˆ": "ëŒ€ì•ˆí•™êµ"
    };

    // ì „ì—­ ìƒíƒœ
    let currentQ = 0;
    let answers = [];

    // DOM ìš”ì†Œë“¤
    let intro, quiz, result, adminPage, startBtn, qText, optA, optB;
    let prevBtn, nextBtn, qIndex, barFill, topType, resultImg;
    let shareBtn, retryBtn, adminLink, backToTestBtn, clearResultsBtn;

    // ê²°ê³¼ ì €ì¥ í•¨ìˆ˜
    function saveTestResult(answers, resultType) {
      try {
        const timestamp = new Date().toISOString();
        const testResult = {
          id: Date.now(),
          timestamp: timestamp,
          answers: answers.join(''),
          result: resultType,
          date: new Date().toLocaleDateString('ko-KR'),
          time: new Date().toLocaleTimeString('ko-KR')
        };

        // ê¸°ì¡´ ê²°ê³¼ë“¤ ê°€ì ¸ì˜¤ê¸°
        const existingResults = JSON.parse(localStorage.getItem('testResults') || '[]');
        existingResults.push(testResult);
        
        // ì €ì¥ (ìµœëŒ€ 1000ê°œê¹Œì§€ë§Œ ì €ì¥)
        if (existingResults.length > 1000) {
          existingResults.splice(0, existingResults.length - 1000);
        }
        
        localStorage.setItem('testResults', JSON.stringify(existingResults));
        console.log('í…ŒìŠ¤íŠ¸ ê²°ê³¼ ì €ì¥ ì™„ë£Œ');
      } catch (error) {
        console.error('ê²°ê³¼ ì €ì¥ ì‹¤íŒ¨:', error);
      }
    }

    // ê´€ë¦¬ì í†µê³„ ì—…ë°ì´íŠ¸
    function updateAdminStats() {
      try {
        const results = JSON.parse(localStorage.getItem('testResults') || '[]');
        
        // ì „ì²´ í…ŒìŠ¤íŠ¸ ìˆ˜
        document.getElementById('totalTests').textContent = results.length;

        // ê° í•™êµ ìœ í˜•ë³„ ì¹´ìš´íŠ¸
        const counts = {
          'ê³µë¦½': 0,
          'ì‚¬ë¦½': 0, 
          'êµ­ë¦½': 0,
          'ì™¸êµ­ì¸': 0,
          'ëŒ€ì•ˆ': 0
        };

        results.forEach(result => {
          if (counts.hasOwnProperty(result.result)) {
            counts[result.result]++;
          }
        });

        document.getElementById('publicSchool').textContent = counts['ê³µë¦½'];
        document.getElementById('privateSchool').textContent = counts['ì‚¬ë¦½'];
        document.getElementById('nationalSchool').textContent = counts['êµ­ë¦½'];
        document.getElementById('intlSchool').textContent = counts['ì™¸êµ­ì¸'];
        document.getElementById('altSchool').textContent = counts['ëŒ€ì•ˆ'];

      } catch (error) {
        console.error('í†µê³„ ì—…ë°ì´íŠ¸ ì‹¤íŒ¨:', error);
      }
    }

    // ê²°ê³¼ ëª©ë¡ í‘œì‹œ
    function displayResultsList() {
      try {
        const results = JSON.parse(localStorage.getItem('testResults') || '[]');
        const resultsList = document.getElementById('resultsList');
        
        if (results.length === 0) {
          resultsList.innerHTML = `
            <div style="padding: 40px; text-align: center; color: #666;">
              ì•„ì§ ìˆ˜ì§‘ëœ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.
            </div>
          `;
          return;
        }

        // ìµœì‹  ìˆœìœ¼ë¡œ ì •ë ¬
        results.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));

        resultsList.innerHTML = results.map(result => `
          <div class="result-item">
            <div>
              <div class="result-timestamp">${result.date}</div>
              <div class="result-timestamp">${result.time}</div>
            </div>
            <div class="result-answers">${result.answers}</div>
            <div class="result-type">${SCHOOL_RESULTS[result.result]}</div>
            <div style="text-align: center;">
              <button onclick="deleteResult(${result.id})" class="clear-btn" style="font-size: 12px; padding: 4px 8px;">ì‚­ì œ</button>
            </div>
          </div>
        `).join('');

      } catch (error) {
        console.error('ê²°ê³¼ ëª©ë¡ í‘œì‹œ ì‹¤íŒ¨:', error);
      }
    }

    // ê°œë³„ ê²°ê³¼ ì‚­ì œ
    function deleteResult(id) {
      if (confirm('ì´ ê²°ê³¼ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
        try {
          const results = JSON.parse(localStorage.getItem('testResults') || '[]');
          const filteredResults = results.filter(result => result.id !== id);
          localStorage.setItem('testResults', JSON.stringify(filteredResults));
          updateAdminStats();
          displayResultsList();
        } catch (error) {
          console.error('ê²°ê³¼ ì‚­ì œ ì‹¤íŒ¨:', error);
        }
      }
    }

    // ì „ì²´ ê²°ê³¼ ì‚­ì œ
    function clearAllResults() {
      if (confirm('ëª¨ë“  í…ŒìŠ¤íŠ¸ ê²°ê³¼ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ? ì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.')) {
        try {
          localStorage.removeItem('testResults');
          updateAdminStats();
          displayResultsList();
          alert('ëª¨ë“  ê²°ê³¼ê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.');
        } catch (error) {
          console.error('ì „ì²´ ê²°ê³¼ ì‚­ì œ ì‹¤íŒ¨:', error);
        }
      }
    }

    // DOM ì´ˆê¸°í™” í•¨ìˆ˜
    function initializeDOM() {
      try {
        intro = document.getElementById('intro');
        quiz = document.getElementById('quiz');
        result = document.getElementById('result');
        adminPage = document.getElementById('adminPage');
        startBtn = document.getElementById('startBtn');
        qText = document.getElementById('qText');
        optA = document.getElementById('optA');
        optB = document.getElementById('optB');
        prevBtn = document.getElementById('prevBtn');
        nextBtn = document.getElementById('nextBtn');
        qIndex = document.getElementById('qIndex');
        barFill = document.getElementById('barFill');
        topType = document.getElementById('topType');
        resultImg = document.getElementById('resultImg');
        shareBtn = document.getElementById('shareTest');
        retryBtn = document.getElementById('retry');
        adminLink = document.getElementById('adminLink');
        backToTestBtn = document.getElementById('backToTest');
        clearResultsBtn = document.getElementById('clearResults');

        return true;
      } catch (error) {
        console.error('DOM ì´ˆê¸°í™” ì‹¤íŒ¨:', error);
        return false;
      }
    }

    // íƒ€ì´ë¸Œë ˆì´ì»¤ í•¨ìˆ˜
    function applyTiebreaker(tiedSchools, answers) {
      try {
        const questionsToCheck = [9, 0, 5, 3, 2];

        for (const qIndex of questionsToCheck) {
          if (qIndex < 0 || qIndex >= answers.length || !answers[qIndex]) continue;
          
          const key = (qIndex + 1) + answers[qIndex];
          const priorityList = TIE_PRIOR[key];
          
          if (!priorityList) continue;

          for (const school of priorityList) {
            if (tiedSchools.includes(school)) {
              return school;
            }
          }
        }

        return tiedSchools[0];
      } catch (error) {
        console.error('íƒ€ì´ë¸Œë ˆì´ì»¤ ì ìš© ì‹¤íŒ¨:', error);
        return tiedSchools[0];
      }
    }

    // ê²°ê³¼ ê³„ì‚° í•¨ìˆ˜
    function showResult() {
      try {
        const scores = {};
        
        // ì ìˆ˜ ê³„ì‚°
        for (const type in WEIGHTS) {
          scores[type] = 0;
          
          for (let i = 0; i < answers.length; i++) {
            if (i >= QUESTIONS.length) break;
            
            if (answers[i] === 'A' && WEIGHTS[type].A && WEIGHTS[type].A[i] !== undefined) {
              scores[type] += WEIGHTS[type].A[i];
            } else if (answers[i] === 'B' && WEIGHTS[type].B && WEIGHTS[type].B[i] !== undefined) {
              scores[type] += WEIGHTS[type].B[i];
            }
          }
        }
        
        // ìµœê³  ì ìˆ˜ ì°¾ê¸°
        let topSchools = [];
        let maxScore = Math.max(...Object.values(scores));
        
        for (const type in scores) {
          if (scores[type] === maxScore) {
            topSchools.push(type);
          }
        }
        
        // íƒ€ì´ë¸Œë ˆì´ì»¤ ì ìš©
        let finalSchool = topSchools[0];
        if (topSchools.length > 1) {
          finalSchool = applyTiebreaker(topSchools, answers);
        }

        // ê²°ê³¼ ì €ì¥ (ìƒˆë¡œ ì¶”ê°€)
        saveTestResult(answers, finalSchool);
        
        // ê²°ê³¼ í‘œì‹œ
        if (topType) {
          topType.textContent = SCHOOL_RESULTS[finalSchool] || 'ì¶”ì²œ ê²°ê³¼';
        }
        
        // ê²°ê³¼ ì´ë¯¸ì§€ëŠ” ì‹¤ì œ ì´ë¯¸ì§€ íŒŒì¼ì´ ì—†ìœ¼ë¯€ë¡œ í…ìŠ¤íŠ¸ë¡œ ëŒ€ì²´
        if (resultImg) {
          resultImg.style.display = 'none';
        }
        
        // í™”ë©´ ì „í™˜
        if (quiz) quiz.classList.add('hidden');
        if (result) result.classList.remove('hidden');
        
      } catch (error) {
        console.error('ê²°ê³¼ ê³„ì‚° ì‹¤íŒ¨:', error);
        alert('ê²°ê³¼ ê³„ì‚° ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
      }
    }

    // ê´€ë¦¬ì í˜ì´ì§€ í‘œì‹œ
    function showAdminPage() {
      // ëª¨ë“  ì„¹ì…˜ ìˆ¨ê¸°ê¸°
      if (intro) intro.classList.add('hidden');
      if (quiz) quiz.classList.add('hidden');
      if (result) result.classList.add('hidden');
      
      // ê´€ë¦¬ì í˜ì´ì§€ í‘œì‹œ
      if (adminPage) {
        adminPage.classList.remove('hidden');
        updateAdminStats();
        displayResultsList();
      }
    }

    // í…ŒìŠ¤íŠ¸ë¡œ ëŒì•„ê°€ê¸°
    function backToTest() {
      if (adminPage) adminPage.classList.add('hidden');
      if (intro) intro.classList.remove('hidden');
    }

    // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡
    function setupEventListeners() {
      try {
        if (startBtn) startBtn.addEventListener('click', startQuiz);
        if (optA) optA.addEventListener('click', () => selectOption('A'));
        if (optB) optB.addEventListener('click', () => selectOption('B'));
        if (prevBtn) prevBtn.addEventListener('click', prevQuestion);
        if (nextBtn) nextBtn.addEventListener('click', nextQuestion);
        if (shareBtn) shareBtn.addEventListener('click', shareTest);
        if (retryBtn) retryBtn.addEventListener('click', restart);
        if (adminLink) adminLink.addEventListener('click', (e) => {
          e.preventDefault();
          showAdminPage();
        });
        if (backToTestBtn) backToTestBtn.addEventListener('click', backToTest);
        if (clearResultsBtn) clearResultsBtn.addEventListener('click', clearAllResults);

        // URL í•´ì‹œ ì²´í¬ (admin í˜ì´ì§€ ì§ì ‘ ì ‘ê·¼)
        if (window.location.hash === '#admin') {
          showAdminPage();
        }

        // ì „ì—­ í•¨ìˆ˜ë¡œ ë“±ë¡ (ì‚­ì œ ë²„íŠ¼ìš©)
        window.deleteResult = deleteResult;

      } catch (error) {
        console.error('ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡ ì‹¤íŒ¨:', error);
      }
    }

    // í€´ì¦ˆ ì‹œì‘
    function startQuiz() {
      try {
        if (intro) intro.classList.add('hidden');
        if (quiz) quiz.classList.remove('hidden');
        showQuestion();
      } catch (error) {
        console.error('í€´ì¦ˆ ì‹œì‘ ì‹¤íŒ¨:', error);
      }
    }

    // ì§ˆë¬¸ í‘œì‹œ
    function showQuestion() {
      try {
        if (currentQ < 0 || currentQ >= QUESTIONS.length) return;
        
        const q = QUESTIONS[currentQ];
        if (qText) qText.textContent = q.q || '';
        if (optA) optA.textContent = q.a || '';
        if (optB) optB.textContent = q.b || '';

        if (qIndex) qIndex.textContent = currentQ + 1;
        if (barFill) {
          barFill.style.width = ((currentQ + 1) / QUESTIONS.length * 100) + '%';
        }

        // ì„ íƒ ìƒíƒœ ì´ˆê¸°í™”
        if (optA) optA.classList.remove('selected');
        if (optB) optB.classList.remove('selected');
        if (nextBtn) nextBtn.disabled = true;

        // ì´ì „ ì„ íƒ ë³µì›
        if (answers[currentQ]) {
          const selectedOpt = answers[currentQ] === 'A' ? optA : optB;
          if (selectedOpt) selectedOpt.classList.add('selected');
          if (nextBtn) nextBtn.disabled = false;
        }

        // ì´ì „ ë²„íŠ¼ ìƒíƒœ
        if (prevBtn) prevBtn.disabled = currentQ === 0;
      } catch (error) {
        console.error('ì§ˆë¬¸ í‘œì‹œ ì‹¤íŒ¨:', error);
      }
    }

    // ì˜µì…˜ ì„ íƒ
    function selectOption(option) {
      try {
        if (optA) optA.classList.remove('selected');
        if (optB) optB.classList.remove('selected');
        
        const selectedOpt = option === 'A' ? optA : optB;
        if (selectedOpt) selectedOpt.classList.add('selected');

        answers[currentQ] = option;
        if (nextBtn) nextBtn.disabled = false;
      } catch (error) {
        console.error('ì˜µì…˜ ì„ íƒ ì‹¤íŒ¨:', error);
      }
    }

    // ì´ì „ ì§ˆë¬¸
    function prevQuestion() {
      try {
        if (currentQ > 0) {
          currentQ--;
          showQuestion();
        }
      } catch (error) {
        console.error('ì´ì „ ì§ˆë¬¸ ì´ë™ ì‹¤íŒ¨:', error);
      }
    }

    // ë‹¤ìŒ ì§ˆë¬¸
    function nextQuestion() {
      try {
        if (currentQ < QUESTIONS.length - 1) {
          currentQ++;
          showQuestion();
        } else {
          showResult();
        }
      } catch (error) {
        console.error('ë‹¤ìŒ ì§ˆë¬¸ ì´ë™ ì‹¤íŒ¨:', error);
      }
    }

    // ê³µìœ í•˜ê¸°
    function shareTest() {
      try {
        const url = window.location.href.split('#')[0]; // í•´ì‹œ ì œê±°
        const text = 'ìš°ë¦¬ ì•„ì´ í•™êµ ìœ í˜• í…ŒìŠ¤íŠ¸ - ì—˜ë¦¬í•˜ì´ í‚¤ì¦ˆ';
        
        if (navigator.share) {
          navigator.share({
            title: text,
            text: 'ìš°ë¦¬ ì•„ì´ì—ê²Œ ë§ëŠ” í•™êµ ìœ í˜•ì„ ì°¾ì•„ë³´ì„¸ìš”!',
            url: url
          }).catch(err => console.log('ê³µìœ  ì‹¤íŒ¨:', err));
        } else if (navigator.clipboard && navigator.clipboard.writeText) {
          navigator.clipboard.writeText(`${text}\n${url}`)
            .then(() => alert('ë§í¬ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!'))
            .catch(() => fallbackCopy(url));
        } else {
          fallbackCopy(url);
        }
      } catch (error) {
        console.error('ê³µìœ  ì‹¤íŒ¨:', error);
        fallbackCopy(window.location.href.split('#')[0]);
      }
    }

    // í´ë°± ë³µì‚¬ í•¨ìˆ˜
    function fallbackCopy(text) {
      let textarea = null;
      try {
        textarea = document.createElement('textarea');
        textarea.value = text;
        textarea.style.position = 'fixed';
        textarea.style.opacity = '0';
        document.body.appendChild(textarea);
        textarea.select();
        
        const success = document.execCommand('copy');
        if (success) {
          alert('ë§í¬ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
        } else {
          throw new Error('ë³µì‚¬ ì‹¤íŒ¨');
        }
      } catch (err) {
        console.error('ë³µì‚¬ ì‹¤íŒ¨:', err);
        alert('ë§í¬ ë³µì‚¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ìˆ˜ë™ìœ¼ë¡œ ë³µì‚¬í•´ì£¼ì„¸ìš”:\n' + text);
      } finally {
        if (textarea && textarea.parentNode) {
          textarea.parentNode.removeChild(textarea);
        }
      }
    }

    // ë‹¤ì‹œí•˜ê¸°
    function restart() {
      try {
        currentQ = 0;
        answers = [];
        if (result) result.classList.add('hidden');
        if (adminPage) adminPage.classList.add('hidden');
        if (intro) intro.classList.remove('hidden');
      } catch (error) {
        console.error('ì¬ì‹œì‘ ì‹¤íŒ¨:', error);
      }
    }

    // ì´ˆê¸°í™”
    document.addEventListener('DOMContentLoaded', function() {
      if (initializeDOM()) {
        setupEventListeners();
        console.log('í€´ì¦ˆ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì„±ê³µì ìœ¼ë¡œ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.');
      } else {
        console.error('í€´ì¦ˆ ì• í”Œë¦¬ì¼€ì´ì…˜ ì´ˆê¸°í™”ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
      }
    });
  </script>
</body>
</html>
